{"version":3,"sources":["assets/star.png","serviceWorker.ts","components/three.tsx","threejs/index.ts","threejs/config.ts","routes.tsx","hooks/useWindowSize.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","frameId","WHITE","LIGHT_CREAM","LIGHT_YELLOW","PANTONE_BLUE_2020","NIGHT_OWL_BLUE","scene","bgColor","Scene","background","Color","setupScene","lights","directionalLight","DirectionalLight","directionalLight2","position","set","AmbientLight","HemisphereLight","setupLights","add","circle","circleGeo","CircleGeometry","circleMat","MeshBasicMaterial","color","Mesh","setupCircle","areaImage","Image","src","SMAAEffect","areaImageDataURL","searchImage","searchImageDataURL","smaaEffect","stars","starCount","starTexture","TextureLoader","load","star","starGeo","Geometry","i","Vector3","Math","random","extendedStar","velocity","vertices","push","starMaterial","PointsMaterial","size","transparent","map","Points","setupStars","textGeometry","audioLoader","listener","sound","analyser","font","FontLoader","parse","fontJson","geometry","TextBufferGeometry","height","curveSegments","computeBoundingBox","loadText","textMesh","MeshPhysicalMaterial","metalness","roughness","opacity","envMapIntensity","textLine","LineSegments","EdgesGeometry","LineBasicMaterial","linewidth","createFontLine","textObj","Object3D","camera","windowWidth","windowHeight","PerspectiveCamera","x","y","z","setupCamera","innerWidth","innerHeight","init","a","AudioLoader","AudioListener","context","resume","Audio","AudioAnalyser","godRaysEffect","GodRaysEffect","resolutionScale","density","decay","weight","samples","renderPass","RenderPass","effectPass","EffectPass","renderToScreen","composer","EffectComposer","renderer","WebGLRenderer","antialias","setSize","setupRenderer","addPass","orbitControls","OrbitControls","domElement","enablePan","maxDistance","minDistance","rotateSpeed","zoomSpeed","routes","path","exact","component","memo","useState","isClicked","setIsClicked","isMesh","setFontForm","isAudioLoaded","setAudioLoadingStatus","isMuted","setMuteStatus","isOrientControl","setChecked","debounceSetFontForm","useCallback","debounce","visible","controls","divRef","useRef","isClient","getSize","width","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","useWindowSize","isMobile","DeviceOrientationControls","deviceOrientation","fog","FogExp2","animate","update","requestAnimationFrame","audioData","getFrequencyData","snareDrum","val","forEach","eStar","verticesNeedUpdate","rotation","starsMove","render","start","stop","cancelAnimationFrame","process","buffer","setBuffer","setLoop","setVolume","play","xhr","loadingStatus","loaded","total","console","info","floor","log","aspect","updateProjectionMatrix","onWindowResize","divEl","current","appendChild","removeChild","connect","enabled","disconnect","dispose","className","icon","faVolumeMute","faVolumeUp","onClick","type","checked","onChange","ref","href","Date","getFullYear","rel","target","ReactDOM","basename","key","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cbec6803.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wOS0xMFQwODoyNzoyOCswNzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0ZmU0ODhkMy0wMjU5LWQ0NDEtOWNlMS1mNDg2NzEwNWU3NjQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3NDNmOTk3Ny0yMjVlLWIyNDktYjMzNy0wNTA2MGU1NTM0NjEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZThiNTZjMS04NjVmLTNkNGItYTk1Yy03YjY2Mzk1ZDIwMDMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ZThiNTZjMS04NjVmLTNkNGItYTk1Yy03YjY2Mzk1ZDIwMDMiIHN0RXZ0OndoZW49IjIwMTktMDktMTBUMDg6Mjc6MjgrMDc6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NGZlNDg4ZDMtMDI1OS1kNDQxLTljZTEtZjQ4NjcxMDVlNzY0IiBzdEV2dDp3aGVuPSIyMDE5LTA5LTEwVDA4OjI3OjI4KzA3OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+0FZuFwAAAcBJREFUaN7lmklOAkEUhlmIF5BARLea4GEQV5Do2oQdmOBCz6C9EK8i3IEOstRwBSEBlKghfC58nXS0VYYe6pV/8jadrqr+UkPXG1JAygYLs7MsUAYcoAU8AAPgVWwgz1ryTlnaGAGyBdSBDjBnec2lbV36ih1kG7gCnglPL8ANkI8DZANoABOi00TGSEcFsgd0iU/3wEHYIIfAiPg1AUphgZwCM5LTTL5hLZAq5qi6Kkgx4ZkImpnisiCFiE+mdfZMYVGQNNDDXPWCjuYgkAbm6/wvkLyhSypoieV/A2miR7c/gWSAqSKQqXzzN5Aa+lQLAnEVgnS+gmRX9CeS1tzb9B5IBb069oM4ikEcP0hLMcidH6SvGKTvBxkrBhn7QbTLCpA3W5bWk5Wb3Zrj15ofouYryokfJGfLpVHrNd61xbE6s9rVTYlDrz74YFU4yJoAnRcy7RoM0WXBkKmXnRoZCDEG9vmPaQWrEj1Wpd48K5FcMvQI5enpHhGkpz3bBC4ivspMgUsZK/ISjh3gmvBLOJrALgkU1WT4LIhxWb2oxpU+MhhS5pQTT9MB2sAjMATexYbyrC3vVKSNcfVaidoHrhc50nP+8ssAAAAASUVORK5CYII=\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useRef, useEffect, useState, useCallback, memo } from \"react\";\nimport {\n  Object3D,\n  Geometry,\n  WebGLRenderer,\n  AudioListener,\n  AudioLoader,\n  AudioAnalyser,\n  Audio,\n  FogExp2\n} from \"three\";\nimport { GodRaysEffect, RenderPass, EffectPass, EffectComposer, SMAAEffect } from \"postprocessing\";\nimport { isMobile } from \"react-device-detect\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faVolumeUp, faVolumeMute } from \"@fortawesome/free-solid-svg-icons\";\nimport debounce from \"lodash.debounce\";\n\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { DeviceOrientationControls } from \"three/examples/jsm/controls/DeviceOrientationControls.js\";\n\nimport useWindowSize from \"../hooks/useWindowSize\";\n\nimport \"../style/three.css\";\n\nimport {\n  setupRenderer,\n  setupCamera,\n  setupScene,\n  setupLights,\n  setupCircle,\n  loadText,\n  createFontMesh,\n  createFontLine,\n  setupStars,\n  ExtendedVector3\n} from \"../threejs\";\n\nimport { colorPalette, fftSize } from \"../threejs/config\";\n\nconst { NIGHT_OWL_BLUE } = colorPalette;\n\nlet frameId: number | null;\n\n// Three Scene init setup start\nconst scene = setupScene(NIGHT_OWL_BLUE);\n\nconst lights = setupLights();\nscene.add(...lights);\n\nconst circle = setupCircle();\nscene.add(circle);\n\nconst areaImage = new Image();\nareaImage.src = SMAAEffect.areaImageDataURL;\nconst searchImage = new Image();\nsearchImage.src = SMAAEffect.searchImageDataURL;\nconst smaaEffect = new SMAAEffect(searchImage, areaImage, 1);\n\nconst stars = setupStars();\nscene.add(stars);\n\nconst textGeometry = loadText();\nconst textMesh = createFontMesh(textGeometry);\n\nconst textLine = createFontLine(textGeometry);\n\nconst textObj = new Object3D().add(textMesh, textLine);\ntextObj.position.set(-150, -90, 0);\nscene.add(textObj);\n\nlet audioLoader: AudioLoader;\nlet listener: AudioListener;\nlet sound: Audio;\nlet analyser: AudioAnalyser;\n\nconst camera = setupCamera(window.innerWidth, window.innerHeight);\n\nconst init = async () => {\n  audioLoader = new AudioLoader();\n  listener = new AudioListener();\n  await listener.context.resume();\n  sound = new Audio(listener);\n  analyser = new AudioAnalyser(sound, fftSize);\n  camera.add(listener);\n};\n\nconst godRaysEffect = new GodRaysEffect(camera, circle, {\n  resolutionScale: 1,\n  density: 0.9,\n  decay: 0.95,\n  weight: 0.4,\n  samples: 100\n});\n\nconst renderPass = new RenderPass(scene, camera);\nconst effectPass = new EffectPass(camera, smaaEffect, godRaysEffect);\neffectPass.renderToScreen = true;\nconst composer = new EffectComposer(setupRenderer(window.innerWidth, window.innerHeight));\ncomposer.addPass(renderPass);\ncomposer.addPass(effectPass);\n\nconst renderer = composer.renderer as WebGLRenderer;\n\nconst orbitControls = new OrbitControls(camera, renderer.domElement);\norbitControls.enablePan = false;\norbitControls.maxDistance = 1500;\norbitControls.minDistance = 200;\norbitControls.rotateSpeed = 0.4;\norbitControls.zoomSpeed = 0.6;\n\nconst renderScene = () => {\n  composer.render(scene, camera);\n};\n\nconst starsMove = (val = 0.05) => {\n  const starGeo = stars.geometry as Geometry;\n  starGeo.vertices.forEach((star: unknown) => {\n    const eStar = star as ExtendedVector3;\n    eStar.velocity += val + Math.random() * 0.01;\n    eStar.z += eStar.velocity;\n    if (eStar.z > 1500) {\n      eStar.z = -1500;\n      eStar.velocity = 0;\n    }\n  });\n  starGeo.verticesNeedUpdate = true;\n  stars.rotation.z -= 0.0005;\n};\n// Three Scene init setup end\n\nconst ThreeScene = () => {\n  const [isClicked, setIsClicked] = useState(false);\n  const [isMesh, setFontForm] = useState(true);\n  const [isAudioLoaded, setAudioLoadingStatus] = useState(false);\n  const [isMuted, setMuteStatus] = useState(false);\n  const [isOrientControl, setChecked] = useState(false);\n\n  const debounceSetFontForm = useCallback(debounce(setFontForm, 10), []);\n\n  textMesh.visible = isMesh;\n  textLine.visible = !isMesh;\n\n  const divRef = useRef<HTMLDivElement>(null);\n  const { width, height } = useWindowSize();\n\n  let controls: null | DeviceOrientationControls;\n\n  if (isMobile) {\n    controls = new DeviceOrientationControls(camera);\n    controls.deviceOrientation = 0;\n    scene.fog = null;\n  } else {\n    if (scene.fog === null) {\n      scene.fog = new FogExp2(NIGHT_OWL_BLUE, 0.0005);\n    }\n  }\n\n  const onWindowResize = (width: number, height: number) => {\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n\n    composer.setSize(width, height);\n  };\n\n  const animate = () => {\n    isMobile && controls && controls.update();\n    frameId = window.requestAnimationFrame(animate);\n\n    const audioData = analyser && analyser.getFrequencyData();\n\n    if (audioData) {\n      const bassDrum = audioData[0];\n      const snareDrum = audioData[41];\n\n      if (bassDrum >= 235) {\n        // do something when bass drum hit\n      } else if (bassDrum > 0 && bassDrum <= 195) {\n        // go back to previous status after bass drum hit\n      }\n\n      if (snareDrum >= 155) {\n        debounceSetFontForm(false);\n      } else if (snareDrum > 0 && snareDrum <= 100) {\n        debounceSetFontForm(true);\n      }\n    }\n\n    starsMove();\n    renderScene();\n  };\n\n  const start = () => {\n    if (!frameId) {\n      frameId = requestAnimationFrame(animate);\n    }\n  };\n\n  const stop = () => {\n    frameId && cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  useEffect(() => {\n    isClicked &&\n      !isAudioLoaded &&\n      audioLoader &&\n      audioLoader.load(\n        `${process.env.PUBLIC_URL}/BlueBoi.mp3`,\n        buffer => {\n          if (sound) {\n            sound.setBuffer(buffer);\n            sound.setLoop(true);\n            setAudioLoadingStatus(true);\n            sound.setVolume(isMuted ? 0 : 1);\n            sound.play();\n          }\n        },\n        xhr => {\n          const loadingStatus = (xhr.loaded / xhr.total) * 100;\n          console.info(`Audio Loading: ${Math.floor(loadingStatus)}%`);\n          if (loadingStatus === 100) {\n            console.log(\"Loading Complete\");\n          }\n        }\n      );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isClicked]);\n\n  useEffect(() => {\n    onWindowResize(width, height);\n\n    if (!isMobile) {\n      start();\n    }\n\n    const divEl = divRef.current;\n    divEl?.appendChild(renderer.domElement);\n\n    return () => {\n      stop();\n      divEl?.removeChild(renderer.domElement);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [width, height]);\n\n  useEffect(\n    () => {\n      if (isMobile) {\n        controls?.connect();\n        if (controls) controls.enabled = isOrientControl;\n        start();\n      }\n      return () => {\n        controls?.disconnect();\n        controls?.dispose();\n        stop();\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isMobile, isOrientControl]\n  );\n\n  return (\n    <>\n      {!isAudioLoaded ? (\n        <div className=\"overlay\">\n          <div className=\"overlay--container\">\n            <q className=\"quote\">\n              If you gaze long enough into an abyss, the abyss will gaze back into you.\n            </q>\n            <small className=\"author\"> -- Friedrich Nietzsche</small>\n            <FontAwesomeIcon\n              icon={isMuted ? faVolumeMute : faVolumeUp}\n              className=\"volume-control\"\n              size=\"2x\"\n              onClick={() => setMuteStatus(!isMuted)}\n            />\n            {!isClicked && (\n              <button\n                className=\"start-button\"\n                onClick={() => {\n                  init();\n                  setIsClicked(true);\n                }}\n              >\n                Start\n              </button>\n            )}\n            {isClicked && (\n              <div className=\"lds-facebook\">\n                <div></div>\n                <div></div>\n                <div></div>\n              </div>\n            )}\n            {isMobile && (\n              <div className=\"orientation-control\">\n                <small className=\"label\">Device Orientation</small>\n                <input\n                  className=\"checkbox\"\n                  type=\"checkbox\"\n                  checked={isOrientControl}\n                  onChange={() => setChecked(!isOrientControl)}\n                />\n              </div>\n            )}\n            <small className=\"hint\">\n              {isMobile\n                ? isOrientControl\n                  ? \"Move your device around (or Touch/Pinch) \"\n                  : \"Touch/Pinch your screen \"\n                : \"Darg/Zoom your mouse \"}\n              to explore\n            </small>\n          </div>\n        </div>\n      ) : null}\n      <div ref={divRef} className=\"three-container\"></div>\n\n      <footer>\n        <small className=\"music-credit\">\n          Music by LAKEY INSPIRED -{\" \"}\n          <a href=\"https://soundcloud.com/lakeyinspired/blue-boi\">Blue Boi</a>\n        </small>\n        <small className=\"me\">\n          &copy; {new Date().getFullYear()}{\" \"}\n          <a href=\"https://haoranzhang.me/\" rel=\"noopener noreferrer\" target=\"_blank\">\n            Haoran Zhang\n          </a>\n        </small>\n      </footer>\n    </>\n  );\n};\n\nexport default memo(ThreeScene);\n","import {\n  Scene,\n  Color,\n  PerspectiveCamera,\n  DirectionalLight,\n  WebGLRenderer,\n  TextBufferGeometry,\n  Mesh,\n  LineSegments,\n  EdgesGeometry,\n  LineBasicMaterial,\n  FontLoader,\n  CircleGeometry,\n  MeshBasicMaterial,\n  MeshPhysicalMaterial,\n  AmbientLight,\n  HemisphereLight,\n  Geometry,\n  Vector3,\n  PointsMaterial,\n  Points,\n  TextureLoader\n} from \"three\";\n\nimport fontJson from \"../assets/hao.json\";\nimport star from \"../assets/star.png\";\n\nimport { colorPalette } from \"./config\";\n\nconst { WHITE, LIGHT_CREAM, LIGHT_YELLOW, PANTONE_BLUE_2020 } = colorPalette;\n\nexport const setupScene = (bgColor: string | number | Color | undefined) => {\n  const scene = new Scene();\n  scene.background = new Color(bgColor);\n  return scene;\n};\n\nexport const setupCamera = (windowWidth: number, windowHeight: number) => {\n  const camera = new PerspectiveCamera(60, windowWidth / windowHeight, 1, 50000);\n  camera.position.x = -500;\n  camera.position.y = 300;\n  camera.position.z = 800;\n  return camera;\n};\n\nexport const setupLights = () => {\n  const directionalLight = new DirectionalLight(LIGHT_YELLOW, 3);\n  const directionalLight2 = new DirectionalLight(LIGHT_YELLOW, 0.6);\n  directionalLight.position.set(0, 200, -2500);\n  directionalLight2.position.set(0, 200, 3000);\n  const ambientLight = new AmbientLight(LIGHT_CREAM, 0.4);\n  const hemisphereLight = new HemisphereLight(LIGHT_CREAM, PANTONE_BLUE_2020, 0.8);\n  return [directionalLight, directionalLight2, ambientLight, hemisphereLight];\n};\n\nexport const setupRenderer = (windowWidth: number, windowHeight: number) => {\n  const renderer = new WebGLRenderer({ antialias: true });\n  renderer.setSize(windowWidth, windowHeight);\n  return renderer;\n};\n\nexport const createFontMesh = (textGeometry: TextBufferGeometry) =>\n  new Mesh(\n    textGeometry,\n    new MeshPhysicalMaterial({\n      color: PANTONE_BLUE_2020,\n      metalness: 0.5,\n      roughness: 0.5,\n      opacity: 0.5,\n      envMapIntensity: 5\n    })\n  );\n\nexport const createFontLine = (textGeometry: TextBufferGeometry) =>\n  new LineSegments(\n    new EdgesGeometry(textGeometry),\n    new LineBasicMaterial({\n      color: WHITE,\n      linewidth: 1\n    })\n  );\n\nexport const loadText = () => {\n  const textloader = new FontLoader();\n  const font = textloader.parse(fontJson);\n  const geometry = new TextBufferGeometry(\"皓\", {\n    font,\n    size: 200,\n    height: 20,\n    curveSegments: 1\n  });\n  geometry.computeBoundingBox();\n  return geometry;\n};\n\nexport const setupCircle = () => {\n  const circleGeo = new CircleGeometry(400, 50);\n  const circleMat = new MeshBasicMaterial({ color: LIGHT_YELLOW });\n  const circle = new Mesh(circleGeo, circleMat);\n  circle.position.set(0, 200, -2500);\n  return circle;\n};\n\nexport interface ExtendedVector3 extends Vector3 {\n  velocity: number;\n}\n\nexport const setupStars = (starCount = 1000) => {\n  const starTexture = new TextureLoader().load(star);\n  const starGeo = new Geometry();\n  for (let i = 0; i < starCount; i++) {\n    const star = new Vector3(\n      Math.random() * 3000 - 1500,\n      Math.random() * 3000 - 1500,\n      Math.random() * 3000 - 1500\n    );\n    const extendedStar = { ...star, velocity: 0 } as unknown;\n    starGeo.vertices.push(extendedStar as Vector3);\n  }\n  const starMaterial = new PointsMaterial({\n    color: LIGHT_CREAM,\n    size: 5,\n    transparent: true,\n    map: starTexture\n  });\n  return new Points(starGeo, starMaterial);\n};\n","export const colorPalette = {\n  WHITE: 0xffffff,\n  LIGHT_CREAM: 0xfffff7,\n  LIGHT_YELLOW: 0xffccaa,\n  PANTONE_BLUE_2020: 0x0f4c81,\n  NIGHT_OWL_BLUE: 0x000c1d\n};\n\nexport const fftSize = 1024;\n\nexport const fogDensity = 0.0005;\n","import { MemoExoticComponent } from \"react\";\n\nimport Three from \"./components/three\";\n\nexport interface Route {\n  path: string;\n  exact: boolean;\n  component: (() => JSX.Element) | MemoExoticComponent<() => JSX.Element>;\n}\n\nconst routes: Route[] = [{ path: \"/\", exact: true, component: Three }];\n\nexport default routes;\n","import { useState, useEffect } from \"react\";\n\nexport default () => {\n  const isClient = typeof window === \"object\";\n\n  const getSize = () => {\n    return {\n      width: isClient ? window.innerWidth : 100,\n      height: isClient ? window.innerHeight : 100\n    };\n  };\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return undefined;\n    }\n\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  return windowSize;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport routes from \"./routes\";\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Switch>\n      {routes.map(({ path, exact, component }) => (\n        <Route key={path} path={path} exact={exact} component={component} />\n      ))}\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}